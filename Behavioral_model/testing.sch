v {xschem version=3.4.5 file_version=1.2
}
G {}
K {}
V {}
S {}
E {}
N 1450 -600 1450 -550 {
lab=Ci3}
N 1680 -600 1680 -550 {
lab=Ci2}
N 1910 -600 1910 -550 {
lab=Ci1}
N 2130 -600 2130 -550 {
lab=Ci0}
N 1160 -460 2230 -460 {
lab=Vplus}
N 1160 -420 2230 -420 {
lab=Vmns}
N 2130 -490 2130 -460 {
lab=Vplus}
N 1910 -490 1910 -460 {
lab=Vplus}
N 1680 -490 1680 -460 {
lab=Vplus}
N 1450 -490 1450 -460 {
lab=Vplus}
N 1450 -420 1450 -380 {
lab=Vmns}
N 1680 -420 1680 -380 {
lab=Vmns}
N 1910 -420 1910 -380 {
lab=Vmns}
N 2130 -420 2130 -380 {
lab=Vmns}
N 2070 -650 2070 -630 {
lab=GND}
N 2040 -630 2070 -630 {
lab=GND}
N 970 -440 1100 -440 {
lab=#net1}
N 1100 -460 1100 -440 {
lab=#net1}
N 1100 -440 1100 -420 {
lab=#net1}
N 1130 -540 1130 -500 {
lab=CTRLvcm}
N 1130 -380 1130 -340 {
lab=CTRLvcm}
N 970 -370 970 -350 {
lab=GND}
N 970 -440 970 -430 {
lab=#net1}
N 500 -210 500 -190 {
lab=GND}
N 500 -300 500 -270 {
lab=CTRLvcm}
N 2070 -600 2110 -600 {
lab=C0}
N 2070 -600 2070 -580 {
lab=C0}
N 1000 -830 1460 -830 {
lab=V1}
N 1440 -830 1440 -680 {
lab=V1}
N 2120 -830 2120 -680 {
lab=V1}
N 1460 -830 2120 -830 {
lab=V1}
N 1670 -830 1670 -680 {
lab=V1}
N 1900 -830 1900 -680 {
lab=V1}
N 950 -770 970 -770 {
lab=GND}
N 950 -770 950 -740 {
lab=GND}
N 970 -900 970 -870 {
lab=Vdd}
N 880 -840 920 -840 {
lab=Vip}
N 880 -820 920 -820 {
lab=Vref}
N 2140 -710 2140 -680 {
lab=GND}
N 1850 -650 1850 -630 {
lab=GND}
N 1820 -630 1850 -630 {
lab=GND}
N 1850 -600 1890 -600 {
lab=C1}
N 1850 -600 1850 -580 {
lab=C1}
N 1920 -710 1920 -680 {
lab=GND}
N 1620 -650 1620 -630 {
lab=GND}
N 1590 -630 1620 -630 {
lab=GND}
N 1620 -600 1660 -600 {
lab=C2}
N 1620 -600 1620 -580 {
lab=C2}
N 1690 -710 1690 -680 {
lab=GND}
N 1390 -650 1390 -630 {
lab=GND}
N 1360 -630 1390 -630 {
lab=GND}
N 1390 -600 1430 -600 {
lab=C3}
N 1390 -600 1390 -580 {
lab=C3}
N 1460 -710 1460 -680 {
lab=GND}
N 1450 -320 1450 -270 {
lab=Ci_3}
N 1680 -320 1680 -270 {
lab=Ci_2}
N 1910 -320 1910 -270 {
lab=Ci_1}
N 2130 -320 2130 -270 {
lab=Ci_0}
N 2070 -240 2070 -220 {
lab=GND}
N 2040 -240 2070 -240 {
lab=GND}
N 2070 -270 2110 -270 {
lab=C0N}
N 2070 -290 2070 -270 {
lab=C0N}
N 1000 -40 1460 -40 {
lab=V2}
N 1440 -190 1440 -40 {
lab=V2}
N 2120 -190 2120 -40 {
lab=V2}
N 1460 -40 2120 -40 {
lab=V2}
N 1670 -190 1670 -40 {
lab=V2}
N 1900 -190 1900 -40 {
lab=V2}
N 950 -100 970 -100 {
lab=GND}
N 950 -130 950 -100 {
lab=GND}
N 970 0 970 30 {
lab=Vdd}
N 880 -30 920 -30 {
lab=Vin}
N 880 -50 920 -50 {
lab=Vref}
N 2140 -190 2140 -160 {
lab=GND}
N 1850 -240 1850 -220 {
lab=GND}
N 1820 -240 1850 -240 {
lab=GND}
N 1850 -270 1890 -270 {
lab=C1N}
N 1850 -290 1850 -270 {
lab=C1N}
N 1920 -190 1920 -160 {
lab=GND}
N 1620 -240 1620 -220 {
lab=GND}
N 1590 -240 1620 -240 {
lab=GND}
N 1620 -270 1660 -270 {
lab=C2N}
N 1620 -290 1620 -270 {
lab=C2N}
N 1690 -190 1690 -160 {
lab=GND}
N 1390 -240 1390 -220 {
lab=GND}
N 1360 -240 1390 -240 {
lab=GND}
N 1390 -270 1430 -270 {
lab=C3N}
N 1390 -290 1390 -270 {
lab=C3N}
N 1460 -190 1460 -160 {
lab=GND}
N 1440 150 1440 170 {
lab=GND}
N 1440 60 1440 90 {
lab=C3}
N 1820 150 1820 170 {
lab=GND}
N 1820 60 1820 90 {
lab=C2}
N 2300 150 2300 170 {
lab=GND}
N 2300 60 2300 90 {
lab=C1}
N 2780 150 2780 170 {
lab=GND}
N 2780 60 2780 90 {
lab=C0}
N 290 -590 290 -570 {
lab=GND}
N 290 -680 290 -650 {
lab=Vref}
N 400 -590 400 -570 {
lab=GND}
N 400 -680 400 -650 {
lab=Vin}
N 490 -590 490 -570 {
lab=GND}
N 490 -680 490 -650 {
lab=Vip}
N 2350 -440 2400 -440 {
lab=Out}
N 610 -590 610 -570 {
lab=GND}
N 610 -680 610 -650 {
lab=Vdd}
N 1240 60 1240 80 {
lab=C3}
N 1240 60 1440 60 {
lab=C3}
N 1240 200 1240 230 {
lab=C3N}
N 1620 60 1620 80 {
lab=C2}
N 1620 60 1820 60 {
lab=C2}
N 1620 200 1620 230 {
lab=C2N}
N 2100 60 2100 80 {
lab=C1}
N 2100 60 2300 60 {
lab=C1}
N 2100 200 2100 230 {
lab=C1N}
N 2580 60 2580 80 {
lab=C0}
N 2580 60 2780 60 {
lab=C0}
N 2580 200 2580 230 {
lab=C0N}
C {code.sym} 50 -310 0 0 {name="s2" only_toplevel="false" value=".lib /usr/local/share/pdk/sky130A/libs.tech/ngspice/sky130.lib.spice tt"}
C {code.sym} 50 -150 0 0 {name=switch1 only_toplevel="false" value=".model switch1 sw vt=0.1 vh=0 ron=1m roff=100G"}
C {lab_pin.sym} 1130 -540 2 0 {name=p3 sig_type=std_logic lab=CTRLvcm}
C {comp_behavioral.sym} 2270 -440 0 0 {name=x6 OFFSET=0.9 AMPLITUDE=1.8 GAIN=100000 ROUT=00 COUT=0}
C {vsource.sym} 970 -400 0 0 {name=V11 value=0.9 savecurrent=false}
C {gnd.sym} 970 -350 0 0 {name=l26 lab=GND}
C {capa.sym} 1450 -350 0 1 {name=C1
m=1
value=2000f
footprint=1206
device="ceramic capacitor"}
C {capa.sym} 1680 -350 0 1 {name=C2
m=1
value=1000f
footprint=1206
device="ceramic capacitor"}
C {capa.sym} 1910 -350 0 1 {name=C3
m=1
value=500f
footprint=1206
device="ceramic capacitor"}
C {capa.sym} 2130 -350 0 1 {name=C4
m=1
value=500f
footprint=1206
device="ceramic capacitor"}
C {capa.sym} 1450 -520 2 0 {name=C5
m=1
value=2000f
footprint=1206
device="ceramic capacitor"}
C {capa.sym} 1680 -520 2 0 {name=C6
m=1
value=1000f
footprint=1206
device="ceramic capacitor"}
C {capa.sym} 1910 -520 2 0 {name=C7
m=1
value=500f
footprint=1206
device="ceramic capacitor"}
C {capa.sym} 2130 -520 2 0 {name=C8
m=1
value=500f
footprint=1206
device="ceramic capacitor"}
C {two_way_switch.sym} 2120 -640 1 1 {name=x9}
C {lab_pin.sym} 2170 -630 0 1 {name=p5 sig_type=std_logic lab=Vdd}
C {gnd.sym} 2040 -630 1 1 {name=l8 lab=GND}
C {switch_ngspice.sym} 1130 -460 1 0 {name=S1 model=SWITCH1}
C {switch_ngspice.sym} 1130 -420 1 1 {name=S3 model=SWITCH1}
C {gnd.sym} 1110 -380 0 0 {name=l9 lab=GND}
C {gnd.sym} 1110 -500 2 0 {name=l10 lab=GND}
C {lab_pin.sym} 1130 -340 0 1 {name=p10 sig_type=std_logic lab=CTRLvcm}
C {vsource.sym} 500 -240 0 0 {name=V1 value="pulse(0 1.8 0 0 0 1u 9u)" savecurrent=false}
C {gnd.sym} 500 -190 0 0 {name=l11 lab=GND}
C {lab_pin.sym} 500 -300 0 1 {name=p11 sig_type=std_logic lab=CTRLvcm}
C {code_shown.sym} 60 -580 0 0 {name=s4 only_toplevel=false value=".tran 0.1n 4u
.save all
.control
run
plot CTRLvcm
.endc"}
C {lab_pin.sym} 1450 -570 2 0 {name=p12 sig_type=std_logic lab=Ci3}
C {lab_pin.sym} 1680 -570 2 0 {name=p13 sig_type=std_logic lab=Ci2}
C {lab_pin.sym} 1910 -570 2 0 {name=p14 sig_type=std_logic lab=Ci1}
C {lab_pin.sym} 2130 -570 2 0 {name=p15 sig_type=std_logic lab=Ci0}
C {lab_pin.sym} 2190 -420 3 0 {name=p20 sig_type=std_logic lab=Vmns}
C {lab_pin.sym} 2190 -460 1 0 {name=p21 sig_type=std_logic lab=Vplus}
C {lab_pin.sym} 2070 -580 1 1 {name=p32 sig_type=std_logic lab=C0}
C {two_way_switch.sym} 960 -820 0 1 {name=x11}
C {lab_pin.sym} 970 -900 1 0 {name=p33 sig_type=std_logic lab=Vdd}
C {gnd.sym} 950 -740 0 0 {name=l13 lab=GND}
C {lab_pin.sym} 1000 -810 2 0 {name=p35 sig_type=std_logic lab=CTRLvcm}
C {lab_pin.sym} 880 -30 0 0 {name=p36 sig_type=std_logic lab=Vin}
C {lab_pin.sym} 880 -820 0 0 {name=p37 sig_type=std_logic lab=Vref}
C {two_way_switch.sym} 1900 -640 1 1 {name=x5}
C {lab_pin.sym} 1950 -630 0 1 {name=p1 sig_type=std_logic lab=Vdd}
C {gnd.sym} 1820 -630 1 1 {name=l5 lab=GND}
C {lab_pin.sym} 1850 -580 1 1 {name=p2 sig_type=std_logic lab=C1}
C {two_way_switch.sym} 1670 -640 1 1 {name=x7}
C {lab_pin.sym} 1720 -630 0 1 {name=p4 sig_type=std_logic lab=Vdd}
C {gnd.sym} 1590 -630 1 1 {name=l7 lab=GND}
C {lab_pin.sym} 1620 -580 1 1 {name=p29 sig_type=std_logic lab=C2}
C {two_way_switch.sym} 1440 -640 1 1 {name=x8}
C {lab_pin.sym} 1490 -630 0 1 {name=p30 sig_type=std_logic lab=Vdd}
C {gnd.sym} 1360 -630 1 1 {name=l15 lab=GND}
C {lab_pin.sym} 1390 -580 1 1 {name=p31 sig_type=std_logic lab=C3}
C {gnd.sym} 1460 -710 2 0 {name=l16 lab=GND}
C {two_way_switch.sym} 2120 -230 1 0 {name=x1}
C {lab_pin.sym} 2170 -240 2 0 {name=p6 sig_type=std_logic lab=Vdd}
C {gnd.sym} 2040 -240 1 0 {name=l1 lab=GND}
C {lab_pin.sym} 1450 -300 0 1 {name=p7 sig_type=std_logic lab=Ci_3}
C {lab_pin.sym} 1680 -300 0 1 {name=p8 sig_type=std_logic lab=Ci_2}
C {lab_pin.sym} 1910 -300 0 1 {name=p9 sig_type=std_logic lab=Ci_1}
C {lab_pin.sym} 2130 -300 0 1 {name=p22 sig_type=std_logic lab=Ci_0}
C {lab_pin.sym} 2070 -290 1 0 {name=p23 sig_type=std_logic lab=C0N}
C {two_way_switch.sym} 960 -50 2 0 {name=x2}
C {lab_pin.sym} 970 30 1 1 {name=p24 sig_type=std_logic lab=Vdd}
C {gnd.sym} 950 -130 2 1 {name=l2 lab=GND}
C {lab_pin.sym} 1000 -60 0 1 {name=p25 sig_type=std_logic lab=CTRLvcm}
C {lab_pin.sym} 880 -840 2 1 {name=p26 sig_type=std_logic lab=Vip}
C {lab_pin.sym} 880 -50 2 1 {name=p27 sig_type=std_logic lab=Vref}
C {two_way_switch.sym} 1900 -230 1 0 {name=x3}
C {lab_pin.sym} 1950 -240 2 0 {name=p28 sig_type=std_logic lab=Vdd}
C {gnd.sym} 1820 -240 1 0 {name=l4 lab=GND}
C {lab_pin.sym} 1850 -290 1 0 {name=p34 sig_type=std_logic lab=C1N}
C {two_way_switch.sym} 1670 -230 1 0 {name=x4}
C {lab_pin.sym} 1720 -240 2 0 {name=p38 sig_type=std_logic lab=Vdd}
C {gnd.sym} 1590 -240 1 0 {name=l18 lab=GND}
C {lab_pin.sym} 1620 -290 1 0 {name=p39 sig_type=std_logic lab=C2N}
C {two_way_switch.sym} 1440 -230 1 0 {name=x10}
C {lab_pin.sym} 1490 -240 2 0 {name=p40 sig_type=std_logic lab=Vdd}
C {gnd.sym} 1360 -240 1 0 {name=l20 lab=GND}
C {lab_pin.sym} 1390 -290 1 0 {name=p41 sig_type=std_logic lab=C3N}
C {gnd.sym} 1460 -160 0 1 {name=l21 lab=GND}
C {vsource.sym} 1440 120 0 0 {name=V2 value=0 savecurrent=false}
C {gnd.sym} 1440 170 0 0 {name=l6 lab=GND}
C {lab_pin.sym} 1440 60 0 1 {name=p19 sig_type=std_logic lab=C3}
C {vsource.sym} 1820 120 0 0 {name=V3 value="pulse(0 1.8 1u 0 0 3.1u 4)" savecurrent=false}
C {gnd.sym} 1820 170 0 0 {name=l14 lab=GND}
C {lab_pin.sym} 1820 60 0 1 {name=p42 sig_type=std_logic lab=C2}
C {vsource.sym} 2300 120 0 0 {name=V4 value="pulse(0 1.8 1u 0 0 3.1u 4)" savecurrent=false}
C {gnd.sym} 2300 170 0 0 {name=l17 lab=GND}
C {lab_pin.sym} 2300 60 0 1 {name=p43 sig_type=std_logic lab=C1}
C {vsource.sym} 2780 120 0 0 {name=V5 value="pulse(0 1.8 1u 0 0 3.1u 4)" savecurrent=false}
C {gnd.sym} 2780 170 0 0 {name=l22 lab=GND}
C {lab_pin.sym} 2780 60 0 1 {name=p44 sig_type=std_logic lab=C0}
C {vsource.sym} 290 -620 0 0 {name=V6 value=1.8 savecurrent=false}
C {gnd.sym} 290 -570 0 0 {name=l23 lab=GND
value=1.8}
C {lab_pin.sym} 290 -680 0 1 {name=p45 sig_type=std_logic lab=Vref}
C {vsource.sym} 400 -620 0 0 {name=V7 value=-0.3 savecurrent=false}
C {gnd.sym} 400 -570 0 0 {name=l24 lab=GND
value=1.8}
C {lab_pin.sym} 400 -680 0 1 {name=p46 sig_type=std_logic lab=Vin}
C {vsource.sym} 490 -620 0 0 {name=V8 value=0.3 savecurrent=false}
C {gnd.sym} 490 -570 0 0 {name=l25 lab=GND
value=1.8}
C {lab_pin.sym} 490 -680 0 1 {name=p47 sig_type=std_logic lab=Vip}
C {lab_pin.sym} 2400 -440 2 0 {name=p48 sig_type=std_logic lab=Out}
C {vsource.sym} 610 -620 0 0 {name=V9 value=1.8 savecurrent=false}
C {gnd.sym} 610 -570 0 0 {name=l27 lab=GND
value=1.8}
C {lab_pin.sym} 610 -680 0 1 {name=p49 sig_type=std_logic lab=Vdd}
C {lab_pin.sym} 2120 -830 1 0 {name=p50 sig_type=std_logic lab=V1}
C {lab_pin.sym} 2120 -40 3 0 {name=p51 sig_type=std_logic lab=V2}
C {gnd.sym} 1690 -710 2 0 {name=l28 lab=GND}
C {gnd.sym} 1920 -710 2 0 {name=l29 lab=GND}
C {gnd.sym} 2140 -710 2 0 {name=l30 lab=GND}
C {CMOS_inverter.sym} 1240 130 1 0 {name=x12}
C {lab_pin.sym} 1280 130 0 1 {name=p16 sig_type=std_logic lab=Vdd}
C {gnd.sym} 1200 130 1 1 {name=l31 lab=GND}
C {lab_pin.sym} 1240 230 1 1 {name=p17 sig_type=std_logic lab=C3N}
C {CMOS_inverter.sym} 1620 130 1 0 {name=x13}
C {lab_pin.sym} 1660 130 0 1 {name=p54 sig_type=std_logic lab=Vdd}
C {gnd.sym} 1580 130 1 1 {name=l3 lab=GND}
C {lab_pin.sym} 1620 230 1 1 {name=p55 sig_type=std_logic lab=C2N}
C {CMOS_inverter.sym} 2100 130 1 0 {name=x14}
C {lab_pin.sym} 2140 130 0 1 {name=p56 sig_type=std_logic lab=Vdd}
C {gnd.sym} 2060 130 1 1 {name=l12 lab=GND}
C {lab_pin.sym} 2100 230 1 1 {name=p57 sig_type=std_logic lab=C1N}
C {CMOS_inverter.sym} 2580 130 1 0 {name=x15}
C {lab_pin.sym} 2620 130 0 1 {name=p58 sig_type=std_logic lab=Vdd}
C {gnd.sym} 2540 130 1 1 {name=l19 lab=GND}
C {lab_pin.sym} 2580 230 1 1 {name=p59 sig_type=std_logic lab=C0N}
C {gnd.sym} 1690 -160 0 1 {name=l32 lab=GND}
C {gnd.sym} 1920 -160 0 1 {name=l33 lab=GND}
C {gnd.sym} 2140 -160 0 1 {name=l34 lab=GND}
